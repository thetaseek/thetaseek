{"version":3,"sources":["components/OptionsSelector.js","store/websocket.js","services/deribit.js","services/deribit-utils.js","components/Websocket.js","store/tickers.js","store/instruments.js","App.js","store/store.js","serviceWorker.js","index.js","services/reconnecting-websocket.js"],"names":["MinMaxFilter","props","valueChanged","event","that","setState","target","name","value","parentFilterInstance","instance","state","min","max","setModel","filterType","type","filter","filterTo","parentModel","this","style","width","margin","padding","display","alignItems","height","className","placeholder","onChange","React","Component","connect","options","tickers","instruments","forwardRef","columnDefs","field","headerName","comparator","valueA","valueB","nodeA","nodeB","isInverted","data","expirationTimestamp","strike","optionType","localeCompare","valueFormatter","params","underlyingPrice","toFixed","map","x","Object","assign","floatingFilterComponent","floatingFilterComponentParams","suppressFilterButton","rowData","values","instrumentName","id","onGridReady","api","sizeColumnsToFit","floatingFilter","defaultColDef","resizable","sortable","deltaRowDataMode","getRowNodeId","frameworkComponents","customNumberMinMaxFilter","slice","createSlice","initialState","isOpen","reducers","open","close","actions","selectors","websocket","socket","ReconnectingWebsocket","automaticOpen","addEventListener","e","CustomEvent","transformReply","r","isPlainObject","reduce","result","key","camelCase","isArray","JSON","parse","dispatchEvent","ws","reconnect","timer","interval","allowance","resetTimer","clearTimeout","setTimeout","console","warn","send","stringify","method","Math","parseInt","jsonrpc","Date","now","message","manageSession","refresh","subscriptions","channels","keys","channel","log","Websocket","dispatch","useDispatch","useEffect","debug","once","useSelector","backgroundColor","borderRadius","marginRight","marginLeft","marginBottom","update","payload","success","request","timeout","Promise","resolve","reject","Error","readyState","callback","removeEventListener","call","currency","kind","expired","then","orderBy","keyBy","App","isEmpty","channelArg","handler","castArray","forEach","i","subscriptionAdd","d","subscriptionRemove","textAlign","configureStore","middleware","getDefaultMiddleware","thunk","immutableCheck","serializableCheck","reducer","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","store","document","getElementById","navigator","serviceWorker","ready","registration","unregister","define","ReconnectingWebSocket","prototype","onopen","onclose","onconnecting","onmessage","onerror","debugAll","CONNECTING","WebSocket","OPEN","CLOSING","CLOSED","url","protocols","settings","reconnectInterval","maxReconnectInterval","reconnectDecay","timeoutInterval","maxReconnectAttempts","binaryType","reconnectAttempts","protocol","self","forcedClose","timedOut","eventTarget","createElement","generateEvent","s","args","evt","createEvent","initCustomEvent","bind","reconnectAttempt","localWs","isReconnect","code","reason","wasClean","pow"],"mappings":"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","file":"static/js/main.75c3d4f5.chunk.js","sourcesContent":["import React from \"react\";\nimport map from \"lodash/map\";\nimport {connect} from \"react-redux\";\nimport {AgGridReact} from \"ag-grid-react\";\n\nimport \"ag-grid-community/dist/styles/ag-grid.css\";\nimport \"ag-grid-community/dist/styles/ag-theme-balham-dark.css\";\n// Override ag-grid theme\nimport \"./OptionsSelector.css\";\n\nexport class MinMaxFilter extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      min: \"\",\n      max: \"\",\n    };\n  }\n\n  valueChanged = (event) => {\n    const that = this;\n    this.setState(\n      {\n        [event.target.name]: event.target.value,\n      },\n      () => {\n        this.props.parentFilterInstance(function (instance) {\n          const {min, max} = that.state;\n          if (min && max) {\n            return instance.setModel({\n              filterType: \"number\",\n              type: \"inRange\",\n              filter: min,\n              filterTo: max,\n            });\n          }\n          if (min) {\n            return instance.setModel({\n              filterType: \"number\",\n              type: \"greaterThanOrEqual\",\n              filter: min,\n            });\n          }\n          if (max) {\n            return instance.setModel({\n              filterType: \"number\",\n              type: \"lessThanOrEqual\",\n              filter: max,\n            });\n          }\n          return instance.setModel(null);\n        });\n      }\n    );\n  };\n\n  onParentModelChanged(parentModel) {\n    switch (parentModel ? parentModel.type : null) {\n      case \"greaterThan\":\n      case \"greaterThanOrEqual\": {\n        return this.setState({\n          min: parentModel.filter,\n        });\n      }\n      case \"lessThan\":\n      case \"lessThanOrEqual\": {\n        return this.setState({\n          max: parentModel.filter,\n        });\n      }\n      case \"inRange\": {\n        return this.setState({\n          min: parentModel.filter,\n          max: parentModel.filterTo,\n        });\n      }\n      default: {\n        return this.setState({\n          min: \"\",\n          max: \"\",\n        });\n      }\n    }\n  }\n\n  render() {\n    const style = {\n      width: \"30%\",\n      margin: \"0 2px\",\n      padding: \"1px\",\n      display: \"flex\",\n      alignItems: \"center\",\n    };\n    return (\n      <>\n        <div style={{height: \"100%\"}} className=\"ag-floating-filter-input\">\n          <input\n            className=\"ag-input-field-input ag-text-field-input\"\n            style={style}\n            type=\"number\"\n            value={this.state.min}\n            name=\"min\"\n            placeholder=\"MIN\"\n            onChange={this.valueChanged}\n          />\n          <input\n            className=\"ag-input-field-input ag-text-field-input\"\n            style={style}\n            type=\"number\"\n            value={this.state.max}\n            name=\"max\"\n            placeholder=\"MAX\"\n            onChange={this.valueChanged}\n          />\n        </div>\n      </>\n    );\n  }\n}\n\nexport function OptionsSelector({options, instruments}) {\n  const columnDefs = [\n    {\n      field: \"instrumentName\",\n      headerName: \"Instrument\",\n      comparator: (valueA, valueB, nodeA, nodeB, isInverted) => {\n        if (nodeA.data.expirationTimestamp !== nodeB.data.expirationTimestamp) {\n          return (\n            nodeA.data.expirationTimestamp - nodeB.data.expirationTimestamp\n          );\n        }\n\n        if (nodeA.data.strike !== nodeB.data.strike) {\n          return nodeA.data.strike - nodeB.data.strike;\n        }\n\n        //https://stackoverflow.com/questions/51165/how-to-sort-strings-in-javascript\n        return nodeA.data.optionType.localeCompare(nodeB.data.optionType);\n      },\n    },\n    {\n      field: \"markPrice\",\n      filter: \"agNumberColumnFilter\",\n      headerName: \"Mark Price\",\n      type: \"numericColumn\",\n      valueFormatter: (params) =>\n        `$${(params.value * params.data.underlyingPrice).toFixed(\n          2\n        )} (${params.value.toFixed(8)})`,\n    },\n    {\n      field: \"markIv\",\n      filter: \"agNumberColumnFilter\",\n      headerName: \"IV (Mark)\",\n      type: \"numericColumn\",\n      valueFormatter: (params) => `${params.value.toFixed(2)}`,\n    },\n    ...[\n      {headerName: \"Delta\", field: \"greeks.delta\"},\n      {headerName: \"Gamma\", field: \"greeks.gamma\"},\n      {headerName: \"Vega\", field: \"greeks.vega\"},\n      {headerName: \"Theta\", field: \"greeks.theta\"},\n    ].map((x) =>\n      Object.assign(x, {\n        filter: \"agNumberColumnFilter\",\n        floatingFilterComponent: \"customNumberMinMaxFilter\",\n        floatingFilterComponentParams: {suppressFilterButton: true},\n        type: \"numericColumn\",\n        valueFormatter: (params) => `${params.value.toFixed(5)}`,\n      })\n    ),\n  ];\n\n  const rowData = map(options, (values, instrumentName) => ({\n    ...instruments[instrumentName],\n    ...values,\n  }));\n\n  const onGridReady = (params) => {\n    // console.log(\"Grid Ready\", params);\n    params.api.sizeColumnsToFit();\n  };\n\n  return (\n    <div id=\"grid-wrapper\">\n      <div\n        className=\"ag-theme-balham-dark\"\n        style={{\n          height: \"95vh\",\n          width: \"100%\",\n        }}\n      >\n        <AgGridReact\n          onGridReady={onGridReady}\n          floatingFilter\n          columnDefs={columnDefs}\n          defaultColDef={{\n            filter: true,\n            resizable: true,\n            sortable: true,\n          }}\n          rowData={rowData}\n          // enable delta updates for redux\n          deltaRowDataMode={true}\n          getRowNodeId={(data) => data.instrumentName}\n          frameworkComponents={{\n            customNumberMinMaxFilter: MinMaxFilter,\n          }}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default connect(\n  (state) => {\n    return {\n      options: state.tickers.tickers,\n      instruments: state.instruments.instruments,\n    };\n  },\n  null,\n  null,\n  {forwardRef: true} // must be supplied for react/redux when using AgGridReact\n)(OptionsSelector);\n","import {createSlice} from \"@reduxjs/toolkit\";\n\nconst slice = createSlice({\n  name: \"websocket\",\n  initialState: {\n    isOpen: false,\n  },\n  reducers: {\n    open: (state) => {\n      state.isOpen = true;\n    },\n    close: (state) => {\n      state.isOpen = false;\n    },\n  },\n});\n\nexport const actions = slice.actions;\n\nexport const selectors = {\n  isOpen: (state) => state.websocket.isOpen,\n};\n\nexport default slice.reducer;\n","import castArray from \"lodash/castArray\";\nimport isArray from \"lodash/isArray\";\nimport ReconnectingWebsocket from \"./reconnecting-websocket\";\nimport {manageSession, transformReply} from \"./deribit-utils\";\n\nconst url =\n  process.env.NODE_ENV === \"production\"\n    ? \"wss://www.deribit.com/ws/api/v2\"\n    : \"wss://test.deribit.com/ws/api/v2\";\n\nconst socket = new ReconnectingWebsocket(url, null, {\n  automaticOpen: false,\n});\n\nsocket.addEventListener(\"message\", (event) => {\n  const e = new CustomEvent(\"json\");\n  e.data = transformReply(JSON.parse(event.data));\n  socket.dispatchEvent(e);\n});\n\nmanageSession(socket, socket.refresh);\n\n// Manage subscriptions\n\n// Key is the channel, value is function handler\nconst subscriptions = {};\nsocket.addEventListener(\"open\", (event) => {\n  socket.send(\n    JSON.stringify({\n      method: \"public/subscribe\",\n      params: {\n        channels: Object.keys(subscriptions),\n      },\n      jsonrpc: \"2.0\",\n      id: Date.now(),\n    })\n  );\n});\n\nsocket.addEventListener(\"json\", (event) => {\n  const message = event.data;\n  if (message.method === \"subscription\") {\n    const {channel, data} = message.params;\n    if (subscriptions[channel]) {\n      subscriptions[channel](data);\n    } else {\n      console.log(\"Ignoring subscription: \", channel);\n    }\n  }\n});\n\nexport const subscriptionAdd = (channelArg, handler) => {\n  const channels = castArray(channelArg);\n  channels.forEach((channel, i) => {\n    subscriptions[channel] = isArray(handler) ? handler[i] : handler;\n  });\n\n  const payload = JSON.stringify({\n    method: \"public/subscribe\",\n    params: {\n      channels,\n    },\n    jsonrpc: \"2.0\",\n    id: Date.now(),\n  });\n\n  // If connection is open send, otherwise wait for connection to open;\n  if (socket.readyState === 1) {\n    socket.send(payload);\n  } else {\n    // Connection opened\n    socket.addEventListener(\"open\", () => socket.send(payload), {\n      once: true,\n    });\n  }\n};\n\nexport const subscriptionRemove = (channelArg) => {\n  const channels = castArray(channelArg);\n  channels.forEach((channel) => {\n    delete channels[channel];\n  });\n  const payload = JSON.stringify({\n    method: \"public/unsubscribe\",\n    params: {\n      channels,\n    },\n    jsonrpc: \"2.0\",\n    id: Date.now(),\n  });\n\n  // If connection is open send, otherwise wait for connection to open;\n  if (socket.readyState === 1) {\n    socket.send(payload);\n  } else {\n    // Connection opened\n    socket.addEventListener(\"open\", () => socket.send(payload), {\n      once: true,\n    });\n  }\n};\n\n// Function to make a rpc call over ws. Will resolve with response\nexport const call = (request, {timeout = 10000} = {}) =>\n  new Promise((resolve, reject) => {\n    const timer = setTimeout(reject, timeout, new Error(\"Call timed out\"));\n\n    const id = Date.now();\n    const payload = JSON.stringify({\n      method: request.method,\n      params: request.params,\n      jsonrpc: \"2.0\",\n      id,\n    });\n\n    function callback(event) {\n      const message = event.data;\n      if (message.id === id) {\n        socket.removeEventListener(\"message\", callback);\n        clearTimeout(timer);\n        return resolve(message);\n      }\n    }\n\n    // If connection is open send, otherwise wait for connection to open;\n    if (socket.readyState === 1) {\n      socket.send(payload);\n    } else {\n      // Connection opened\n      socket.addEventListener(\"open\", () => socket.send(payload), {\n        once: true,\n      });\n    }\n\n    socket.addEventListener(\"json\", callback);\n  });\n\nexport default socket;\n","import camelCase from \"lodash/camelCase\";\nimport isArray from \"lodash/isArray\";\nimport isPlainObject from \"lodash/isPlainObject\";\nimport reduce from \"lodash/reduce\";\n\n// Recursively transform all keys to camelcase\nexport const transformReply = (r) => {\n  if (isPlainObject(r)) {\n    return reduce(\n      r,\n      (result, value, key) => {\n        result[camelCase(key)] = transformReply(value);\n        return result;\n      },\n      {}\n    );\n  }\n\n  // If its a array, transform each element\n  if (isArray(r)) {\n    return r.map((x) => transformReply(x));\n  }\n\n  // Just return base type\n  return r;\n};\n\n// Manages Deribit websocket and reconnects if stale\nexport const manageSession = (ws, reconnect = () => {\n}) => {\n  // Set a timer, if no messages received within interval, refresh connection\n  let timer = null;\n  const interval = 10 * 1000;\n  const allowance = 2000; // Allowance for network\n\n  const resetTimer = () => {\n    clearTimeout(timer);\n    timer = setTimeout(() => {\n      console.warn(\n        `Connection is stale, no message received in ${interval / 1000} seconds`\n      );\n      return reconnect();\n    }, interval + allowance);\n  };\n\n  // Once connection opens, start requesting heartbeats\n  ws.addEventListener(\"open\", () => {\n    ws.send(\n      JSON.stringify({\n        method: \"public/set_heartbeat\",\n        params: {\n          // Seconds (min is 10s)\n          interval: Math.max(parseInt(interval / 1000, 10), 10),\n        },\n        jsonrpc: \"2.0\",\n        id: Date.now(),\n      })\n    );\n  });\n\n  // When connection closes, remove my timer\n  ws.addEventListener(\"close\", () => {\n    clearTimeout(timer);\n  });\n\n  // Listen for messages\n  ws.addEventListener(\"json\", function (event) {\n    // Reset timer on new message\n    resetTimer();\n\n    // I must respond to test_request messages to keep connection alive\n    const message = event.data;\n    if (\n      message.method === \"heartbeat\" &&\n      message.params.type === \"test_request\"\n    ) {\n      ws.send(\n        JSON.stringify({\n          method: \"public/test\",\n          params: {},\n          jsonrpc: \"2.0\",\n          id: Date.now(),\n        })\n      );\n    }\n  });\n};\n","import React from \"react\";\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport {actions, selectors} from \"../store/websocket\";\nimport socket from \"../services/deribit\";\n\nexport function Websocket() {\n  const dispatch = useDispatch();\n  React.useEffect(() => {\n    socket.open();\n\n    socket.addEventListener(\"open\", () => {\n      dispatch(actions.open());\n      console.debug(\"Connection to Deribit opened\");\n    });\n\n    socket.addEventListener(\n      \"close\",\n      () => {\n        dispatch(actions.close());\n        console.debug(\"Connection to Deribit closed\");\n      },\n      {once: true}\n    );\n\n    return () => {\n      console.log(\"Closing connection to Deribit\");\n      socket.close();\n    };\n  }, [dispatch]);\n  const isOpen = useSelector(selectors.isOpen);\n  const style = {\n    backgroundColor: isOpen ? \"#7aae1a\" : \"#ff1111\",\n    borderRadius: \"50%\",\n    marginRight: \"8px\",\n    display: \"inline-block\",\n    height: \"12px\",\n    width: \"12px\",\n  };\n\n  return (\n    <div style={{marginLeft: \"4px\", marginBottom: \"4px\"}}>\n      <span style={style}/>\n      {isOpen ? \"Online\" : \"Connecting...\"}\n    </div>\n  );\n}\n","import pick from \"lodash/pick\";\nimport {createSlice} from \"@reduxjs/toolkit\";\n\n// Redux Toolkit allows us to write \"mutating\" logic in reducers. It\n// doesn't actually mutate the state because it uses the Immer library,\n// which detects changes to a \"draft state\" and produces a brand new\n// immutable state based off those changes\nconst slice = createSlice({\n  name: \"tickers\",\n  initialState: {\n    tickers: {},\n  },\n  reducers: {\n    update: (state, {payload}) => {\n      state.tickers[payload.instrumentName] = payload;\n    },\n  },\n});\n\nexport const actions = slice.actions;\n\nexport const tickerSelectorFactory = (ticker) => (state) =>\n  state.tickers.tickers[ticker] || {};\n\nexport const selectors = {\n  tickers: (state) => Object.values(state.tickers.tickers),\n};\n\nexport default slice.reducer;\n","import orderBy from \"lodash/orderBy\";\nimport keyBy from \"lodash/keyBy\";\nimport {createSlice} from \"@reduxjs/toolkit\";\nimport {call} from \"../services/deribit\";\n\n// Redux Toolkit allows us to write \"mutating\" logic in reducers. It\n// doesn't actually mutate the state because it uses the Immer library,\n// which detects changes to a \"draft state\" and produces a brand new\n// immutable state based off those changes\nconst slice = createSlice({\n  name: \"instruments\",\n  initialState: {\n    instruments: {},\n  },\n  reducers: {\n    success: (state, {payload}) => {\n      state.instruments = payload;\n    },\n  },\n});\n\nexport const actions = {\n  request: () => (dispatch) =>\n    call({\n      method: \"public/get_instruments\",\n      params: {\n        currency: \"BTC\",\n        kind: \"option\",\n        expired: false,\n      },\n    })\n      .then((r) => r.result)\n      .then((r) =>\n        orderBy(\n          r,\n          [\"expirationTimestamp\", \"strike\", \"optionType\"],\n          [\"asc\", \"asc\", \"asc\"]\n        )\n      )\n      .then((r) => keyBy(r, \"instrumentName\"))\n      .then((r) => dispatch(slice.actions.success(r))),\n};\n\nexport const selectors = {\n  instrument: (state) => state.instruments.instruments,\n  options: (state) => state.instruments.instruments,\n};\n\nexport default slice.reducer;\n","import React from \"react\";\nimport isEmpty from \"lodash/isEmpty\";\nimport map from \"lodash/map\";\nimport {useDispatch, useSelector} from \"react-redux\";\n\nimport \"./App.css\";\nimport OptionsSelector from \"./components/OptionsSelector\";\nimport {Websocket} from \"./components/Websocket\";\nimport {actions as tickers} from \"./store/tickers\";\nimport {actions, selectors} from \"./store/instruments\";\nimport {subscriptionAdd, subscriptionRemove} from \"./services/deribit\";\n\nfunction App() {\n  const dispatch = useDispatch();\n  const instruments = useSelector(selectors.options);\n\n  React.useEffect(() => {\n    dispatch(actions.request());\n  }, [dispatch]);\n\n  React.useEffect(() => {\n    if (!isEmpty(instruments)) {\n      const channels = map(\n        instruments,\n        (x) => `ticker.${x.instrumentName}.100ms`\n      );\n      subscriptionAdd(channels, (d) => dispatch(tickers.update(d)));\n      return () => subscriptionRemove(channels);\n    }\n    return () => {\n    };\n  }, [dispatch, instruments]);\n\n  return (\n    <div className=\"App\">\n      <div style={{textAlign: \"left\"}}>\n        <Websocket/>\n      </div>\n      <OptionsSelector/>\n    </div>\n  );\n}\n\nexport default App;\n","import {configureStore, getDefaultMiddleware} from \"@reduxjs/toolkit\";\nimport instruments from \"./instruments\";\nimport tickers from \"./tickers\";\nimport websocket from \"./websocket\";\n\nexport default configureStore({\n  middleware: getDefaultMiddleware({\n    thunk: true,\n    immutableCheck: false,\n    serializableCheck: false,\n  }),\n  reducer: {\n    instruments,\n    tickers,\n    websocket,\n  },\n});\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === \"localhost\" ||\n  // [::1] is the IPv6 localhost address.\n  window.location.hostname === \"[::1]\" ||\n  // 127.0.0.0/8 are considered localhost for IPv4.\n  window.location.hostname.match(\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n  )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === \"production\" && \"serviceWorker\" in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener(\"load\", () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            \"This web app is being served cache-first by a service \" +\n            \"worker. To learn more, visit https://bit.ly/CRA-PWA\"\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === \"installed\") {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                \"New content is available and will be used when all \" +\n                \"tabs for this page are closed. See https://bit.ly/CRA-PWA.\"\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log(\"Content is cached for offline use.\");\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error(\"Error during service worker registration:\", error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: {\"Service-Worker\": \"script\"},\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get(\"content-type\");\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf(\"javascript\") === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        \"No internet connection found. App is running in offline mode.\"\n      );\n    });\n}\n\nexport function unregister() {\n  if (\"serviceWorker\" in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport store from \"./store/store\";\nimport {Provider} from \"react-redux\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App/>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","/* eslint-disable */\n// https://raw.githubusercontent.com/joewalnes/reconnecting-websocket/master/reconnecting-websocket.js\n// MIT License:\n//\n// Copyright (c) 2010-2012, Joe Walnes\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\n\n/**\n * This behaves like a WebSocket in every way, except if it fails to connect,\n * or it gets disconnected, it will repeatedly poll until it successfully connects\n * again.\n *\n * It is API compatible, so when you have:\n *   ws = new WebSocket('ws://....');\n * you can replace with:\n *   ws = new ReconnectingWebSocket('ws://....');\n *\n * The event stream will typically look like:\n *  onconnecting\n *  onopen\n *  onmessage\n *  onmessage\n *  onclose // lost connection\n *  onconnecting\n *  onopen  // sometime later...\n *  onmessage\n *  onmessage\n *  etc...\n *\n * It is API compatible with the standard WebSocket API, apart from the following members:\n *\n * - `bufferedAmount`\n * - `extensions`\n * - `binaryType`\n *\n * Latest version: https://github.com/joewalnes/reconnecting-websocket/\n * - Joe Walnes\n *\n * Syntax\n * ======\n * var socket = new ReconnectingWebSocket(url, protocols, options);\n *\n * Parameters\n * ==========\n * url - The url you are connecting to.\n * protocols - Optional string or array of protocols.\n * options - See below\n *\n * Options\n * =======\n * Options can either be passed upon instantiation or set after instantiation:\n *\n * var socket = new ReconnectingWebSocket(url, null, { debug: true, reconnectInterval: 4000 });\n *\n * or\n *\n * var socket = new ReconnectingWebSocket(url);\n * socket.debug = true;\n * socket.reconnectInterval = 4000;\n *\n * debug\n * - Whether this instance should log debug messages. Accepts true or false. Default: false.\n *\n * automaticOpen\n * - Whether or not the websocket should attempt to connect immediately upon instantiation. The socket can be manually opened or closed at any time using ws.open() and ws.close().\n *\n * reconnectInterval\n * - The number of milliseconds to delay before attempting to reconnect. Accepts integer. Default: 1000.\n *\n * maxReconnectInterval\n * - The maximum number of milliseconds to delay a reconnection attempt. Accepts integer. Default: 30000.\n *\n * reconnectDecay\n * - The rate of increase of the reconnect delay. Allows reconnect attempts to back off when problems persist. Accepts integer or float. Default: 1.5.\n *\n * timeoutInterval\n * - The maximum time in milliseconds to wait for a connection to succeed before closing and retrying. Accepts integer. Default: 2000.\n *\n */\n(function (global, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define([], factory);\n  } else if (typeof module !== \"undefined\" && module.exports) {\n    module.exports = factory();\n  } else {\n    global.ReconnectingWebSocket = factory();\n  }\n})(this, function () {\n  if (!(\"WebSocket\" in window)) {\n    return;\n  }\n\n  function ReconnectingWebSocket(url, protocols, options) {\n    // Default settings\n    var settings = {\n      /** Whether this instance should log debug messages. */\n      debug: false,\n\n      /** Whether or not the websocket should attempt to connect immediately upon instantiation. */\n      automaticOpen: true,\n\n      /** The number of milliseconds to delay before attempting to reconnect. */\n      reconnectInterval: 1000,\n      /** The maximum number of milliseconds to delay a reconnection attempt. */\n      maxReconnectInterval: 30000,\n      /** The rate of increase of the reconnect delay. Allows reconnect attempts to back off when problems persist. */\n      reconnectDecay: 1.5,\n\n      /** The maximum time in milliseconds to wait for a connection to succeed before closing and retrying. */\n      timeoutInterval: 2000,\n\n      /** The maximum number of reconnection attempts to make. Unlimited if null. */\n      maxReconnectAttempts: null,\n\n      /** The binary type, possible values 'blob' or 'arraybuffer', default 'blob'. */\n      binaryType: \"blob\",\n    };\n    if (!options) {\n      options = {};\n    }\n\n    // Overwrite and define settings with options if they exist.\n    for (var key in settings) {\n      if (typeof options[key] !== \"undefined\") {\n        this[key] = options[key];\n      } else {\n        this[key] = settings[key];\n      }\n    }\n\n    // These should be treated as read-only properties\n\n    /** The URL as resolved by the constructor. This is always an absolute URL. Read only. */\n    this.url = url;\n\n    /** The number of attempted reconnects since starting, or the last successful connection. Read only. */\n    this.reconnectAttempts = 0;\n\n    /**\n     * The current state of the connection.\n     * Can be one of: WebSocket.CONNECTING, WebSocket.OPEN, WebSocket.CLOSING, WebSocket.CLOSED\n     * Read only.\n     */\n    this.readyState = WebSocket.CONNECTING;\n\n    /**\n     * A string indicating the name of the sub-protocol the server selected; this will be one of\n     * the strings specified in the protocols parameter when creating the WebSocket object.\n     * Read only.\n     */\n    this.protocol = null;\n\n    // Private state variables\n\n    var self = this;\n    var ws;\n    var forcedClose = false;\n    var timedOut = false;\n    var eventTarget = document.createElement(\"div\");\n\n    // Wire up \"on*\" properties as event handlers\n\n    eventTarget.addEventListener(\"open\", function (event) {\n      self.onopen(event);\n    });\n    eventTarget.addEventListener(\"close\", function (event) {\n      self.onclose(event);\n    });\n    eventTarget.addEventListener(\"connecting\", function (event) {\n      self.onconnecting(event);\n    });\n    eventTarget.addEventListener(\"message\", function (event) {\n      self.onmessage(event);\n    });\n    eventTarget.addEventListener(\"error\", function (event) {\n      self.onerror(event);\n    });\n\n    // Expose the API required by EventTarget\n\n    this.addEventListener = eventTarget.addEventListener.bind(eventTarget);\n    this.removeEventListener = eventTarget.removeEventListener.bind(\n      eventTarget\n    );\n    this.dispatchEvent = eventTarget.dispatchEvent.bind(eventTarget);\n\n    /**\n     * This function generates an event that is compatible with standard\n     * compliant browsers and IE9 - IE11\n     *\n     * This will prevent the error:\n     * Object doesn't support this action\n     *\n     * http://stackoverflow.com/questions/19345392/why-arent-my-parameters-getting-passed-through-to-a-dispatched-event/19345563#19345563\n     * @param s String The name that the event should use\n     * @param args Object an optional object that the event will use\n     */\n    function generateEvent(s, args) {\n      var evt = document.createEvent(\"CustomEvent\");\n      evt.initCustomEvent(s, false, false, args);\n      return evt;\n    }\n\n    this.open = function (reconnectAttempt) {\n      ws = new WebSocket(self.url, protocols || []);\n      ws.binaryType = this.binaryType;\n\n      if (reconnectAttempt) {\n        if (\n          this.maxReconnectAttempts &&\n          this.reconnectAttempts > this.maxReconnectAttempts\n        ) {\n          return;\n        }\n      } else {\n        eventTarget.dispatchEvent(generateEvent(\"connecting\"));\n        this.reconnectAttempts = 0;\n      }\n\n      if (self.debug || ReconnectingWebSocket.debugAll) {\n        console.debug(\"ReconnectingWebSocket\", \"attempt-connect\", self.url);\n      }\n\n      var localWs = ws;\n      var timeout = setTimeout(function () {\n        if (self.debug || ReconnectingWebSocket.debugAll) {\n          console.debug(\n            \"ReconnectingWebSocket\",\n            \"connection-timeout\",\n            self.url\n          );\n        }\n        timedOut = true;\n        localWs.close();\n        timedOut = false;\n      }, self.timeoutInterval);\n\n      ws.onopen = function (event) {\n        clearTimeout(timeout);\n        if (self.debug || ReconnectingWebSocket.debugAll) {\n          console.debug(\"ReconnectingWebSocket\", \"onopen\", self.url);\n        }\n        self.protocol = ws.protocol;\n        self.readyState = WebSocket.OPEN;\n        self.reconnectAttempts = 0;\n        var e = generateEvent(\"open\");\n        e.isReconnect = reconnectAttempt;\n        reconnectAttempt = false;\n        eventTarget.dispatchEvent(e);\n      };\n\n      ws.onclose = function (event) {\n        clearTimeout(timeout);\n        ws = null;\n        if (forcedClose) {\n          self.readyState = WebSocket.CLOSED;\n          eventTarget.dispatchEvent(generateEvent(\"close\"));\n        } else {\n          self.readyState = WebSocket.CONNECTING;\n          var e = generateEvent(\"connecting\");\n          e.code = event.code;\n          e.reason = event.reason;\n          e.wasClean = event.wasClean;\n          eventTarget.dispatchEvent(e);\n          if (!reconnectAttempt && !timedOut) {\n            if (self.debug || ReconnectingWebSocket.debugAll) {\n              console.debug(\"ReconnectingWebSocket\", \"onclose\", self.url);\n            }\n            eventTarget.dispatchEvent(generateEvent(\"close\"));\n          }\n\n          var timeout =\n            self.reconnectInterval *\n            Math.pow(self.reconnectDecay, self.reconnectAttempts);\n          setTimeout(\n            function () {\n              self.reconnectAttempts++;\n              self.open(true);\n            },\n            timeout > self.maxReconnectInterval\n              ? self.maxReconnectInterval\n              : timeout\n          );\n        }\n      };\n      ws.onmessage = function (event) {\n        if (self.debug || ReconnectingWebSocket.debugAll) {\n          console.debug(\n            \"ReconnectingWebSocket\",\n            \"onmessage\",\n            self.url,\n            event.data\n          );\n        }\n        var e = generateEvent(\"message\");\n        e.data = event.data;\n        eventTarget.dispatchEvent(e);\n      };\n      ws.onerror = function (event) {\n        if (self.debug || ReconnectingWebSocket.debugAll) {\n          console.debug(\"ReconnectingWebSocket\", \"onerror\", self.url, event);\n        }\n        eventTarget.dispatchEvent(generateEvent(\"error\"));\n      };\n    };\n\n    // Whether or not to create a websocket upon instantiation\n    if (this.automaticOpen == true) {\n      this.open(false);\n    }\n\n    /**\n     * Transmits data to the server over the WebSocket connection.\n     *\n     * @param data a text string, ArrayBuffer or Blob to send to the server.\n     */\n    this.send = function (data) {\n      if (ws) {\n        if (self.debug || ReconnectingWebSocket.debugAll) {\n          console.debug(\"ReconnectingWebSocket\", \"send\", self.url, data);\n        }\n        return ws.send(data);\n      } else {\n        throw \"INVALID_STATE_ERR : Pausing to reconnect websocket\";\n      }\n    };\n\n    /**\n     * Closes the WebSocket connection or connection attempt, if any.\n     * If the connection is already CLOSED, this method does nothing.\n     */\n    this.close = function (code, reason) {\n      // Default CLOSE_NORMAL code\n      if (typeof code == \"undefined\") {\n        code = 1000;\n      }\n      forcedClose = true;\n      if (ws) {\n        ws.close(code, reason);\n      }\n    };\n\n    /**\n     * Additional public API method to refresh the connection if still open (close, re-open).\n     * For example, if the app suspects bad data / missed heart beats, it can try to refresh.\n     */\n    this.refresh = function () {\n      if (ws) {\n        ws.close();\n      }\n    };\n  }\n\n  /**\n   * An event listener to be called when the WebSocket connection's readyState changes to OPEN;\n   * this indicates that the connection is ready to send and receive data.\n   */\n  ReconnectingWebSocket.prototype.onopen = function (event) {\n  };\n  /** An event listener to be called when the WebSocket connection's readyState changes to CLOSED. */\n  ReconnectingWebSocket.prototype.onclose = function (event) {\n  };\n  /** An event listener to be called when a connection begins being attempted. */\n  ReconnectingWebSocket.prototype.onconnecting = function (event) {\n  };\n  /** An event listener to be called when a message is received from the server. */\n  ReconnectingWebSocket.prototype.onmessage = function (event) {\n  };\n  /** An event listener to be called when an error occurs. */\n  ReconnectingWebSocket.prototype.onerror = function (event) {\n  };\n\n  /**\n   * Whether all instances of ReconnectingWebSocket should log debug messages.\n   * Setting this to true is the equivalent of setting all instances of ReconnectingWebSocket.debug to true.\n   */\n  ReconnectingWebSocket.debugAll = false;\n\n  ReconnectingWebSocket.CONNECTING = WebSocket.CONNECTING;\n  ReconnectingWebSocket.OPEN = WebSocket.OPEN;\n  ReconnectingWebSocket.CLOSING = WebSocket.CLOSING;\n  ReconnectingWebSocket.CLOSED = WebSocket.CLOSED;\n\n  return ReconnectingWebSocket;\n});\n"],"sourceRoot":""}